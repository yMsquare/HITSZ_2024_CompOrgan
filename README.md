# HITSZ_2024_CompOrgan
2024年春季学期哈尔滨工业大学（深圳）计算机组成原理（实验）的代码仓库。

by Msquare

## 关于本仓库

本学期的计组实验只有3个，有一定的难度，但是经过一番努力都可以成功写出来。

本仓库的内容全部用纯verilog实现，没有涉及什么高阶的语法如generate等，可放心阅读。

作者本人的水平有限，代码质量自然也是不敢恭维，故仅作为一种思路参考。

[lab1  从C语言到机器码](#lab1)

[lab2 原码除法器设计](#lab2)

[lab3 高速缓存器设计](#lab3)

##  <span id="lab1">Lab1 从C语言到机器码</span>

对应lab1目录下的内容。

由于本人的汇编语言基础薄弱以及时间不足，便没有完成本实验的附加题。不过附加题难度应当并不大，只是额外涉及一部分syscall相关的指令，可以自行了解（RARS的help中有比较详细的文档表格）

##  <span id="lab2">Lab2 原码除法器设计</span>

对应lab2目录下的内容。

时序方面比较容易混淆，建议手算一遍，对照着手算过程和仿真波形去debug。

### Lab2附加题：原码Booth乘法器设计

时序方面与除法器相差不大，同样建议手算一遍，对照着手算过程和仿真波形去debug。

##  <span id="lab3">Lab3 高速缓存器设计</span>

对应lab3目录下的内容。

实现一个直接映射的ICache，其中ICache存储体的部分已经通过vivado提供的BlockMemory IP核来实现，所以我们还需要为它添加标签（Tag）和有效位（Valid），并设计ICache的处理CPU发来的主存地址的逻辑。

值得一提的是实验中模块接口使用的是AXI4总线标准。对于本实验，了解清楚输入输出信号的时序是非常重要的，建议仔细阅读实验指导书中输入输出接口的时序部分（尤其是block memory的读写时序）

### Lab3附加题：DCache设计

比ICache的实现难度稍微大一点，主要是因为DCache对CPU是可读写的，ICache对CPU是只读的。DCache需要额外处理写逻辑。

关于DCache的读写，建议认真学习计组理论课中的内容，了解写直达法（write-through）与写回法(write-back)、写不分配(none-write-allocate)与写分配(write-allocate)等概念。本实验中使用了写回法+写分配。
